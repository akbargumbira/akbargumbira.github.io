<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Releasing Django User Map v1.0.0</title>
    <meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l">
<link rel="icon" type="image/png" href="../assets/img/favicon-32x32.png?v=wAAv6Wqe6l" sizes="32x32">
<link rel="icon" type="image/png" href="http://127.0.0.1:2368/assets/img/favicon-194x194.png?v=wAAv6Wqe6l" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/favicon-96x96.png?v=wAAv6Wqe6l" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/favicon-16x16.png?v=wAAv6Wqe6l" sizes="16x16">
<link rel="manifest" href="../assets/img/manifest.json?v=wAAv6Wqe6l">
<link rel="shortcut icon" href="../assets/img/favicon.ico?v=wAAv6Wqe6l">
<meta name="msapplication-TileColor" content="#e74c3c">
<meta name="msapplication-TileImage" content="/assets/img/mstile-144x144.png?v=wAAv6Wqe6l">
<meta name="msapplication-config" content="/assets/img/browserconfig.xml?v=wAAv6Wqe6l">
<meta name="theme-color" content="#e74c3c">
    <link rel="stylesheet" type="text/css" href="../assets/css/uno-zen.css?v=676b1a0896" />
    <link rel="canonical" href="http://www.akbargumbira.com/releasing-django-user-map-v1-0-0/" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Akbar Gumbira" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Releasing Django User Map v1.0.0" />
    <meta property="og:description" content="Wohoo, finally I just released Django User Map v.1.0.0 after some work since 2 or 3 weeks ago! Click   documentation to read the docs. What have been changed from the previous one? Removing Custom User Model A..." />
    <meta property="og:url" content="http://www.akbargumbira.com/releasing-django-user-map-v1-0-0/" />
    <meta property="article:published_time" content="2016-03-06T23:04:35.150Z" />
    <meta property="article:modified_time" content="2016-03-06T23:33:53.587Z" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Releasing Django User Map v1.0.0" />
    <meta name="twitter:description" content="Wohoo, finally I just released Django User Map v.1.0.0 after some work since 2 or 3 weeks ago! Click   documentation to read the docs. What have been changed from the previous one? Removing Custom User Model A..." />
    <meta name="twitter:url" content="http://www.akbargumbira.com/releasing-django-user-map-v1-0-0/" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Akbar Gumbira",
    "author": {
        "@type": "Person",
        "name": "Akbar Gumbira",
        "image": "//www.gravatar.com/avatar/f3ffc801376c36edad4aa81f86e82f4b?s=250&d=mm&r=x",
        "url": "http://www.akbargumbira.com/author/akbar",
        "sameAs": null,
        "description": null
    },
    "headline": "Releasing Django User Map v1.0.0",
    "url": "http://www.akbargumbira.com/releasing-django-user-map-v1-0-0/",
    "datePublished": "2016-03-06T23:04:35.150Z",
    "dateModified": "2016-03-06T23:33:53.587Z",
    "description": "Wohoo, finally I just released Django User Map v.1.0.0 after some work since 2 or 3 weeks ago! Click   documentation to read the docs. What have been changed from the previous one? Removing Custom User Model A..."
}
    </script>

    <meta name="generator" content="Ghost 0.7" />
    <link rel="alternate" type="application/rss+xml" title="Akbar Gumbira" href="http://www.akbargumbira.com/rss/" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65219695-1', 'auto');
  ga('send', 'pageview');

</script>
  </head>
  <body class="post-template">
    <header id="menu-button" class="expanded">
      <a><i class="icon icon-list"></i></a>
    </header>
    <aside class="cover" style="background: url(../content/images/2015/10/DSC01620-2.JPG) center/cover no-repeat fixed">
  <div class="cover container">
    <div class="profile">
      <a id="avatar-link" title="link to homepage for Akbar Gumbira" href="http://www.akbargumbira.com/#open">
        <img src="../content/images/2015/10/IMG_20151018_104114907--copy--2.jpg" alt="Akbar Gumbira avatar" class="profile avatar rounded hvr-buzz-out" />
        <h1 id="profile-title">Akbar Gumbira</h1>
        <h3 id="profile-resume"></h3>
      </a>

      <hr class="divider long" />
      <p>I enjoy making software, solving computational or number theory problems, and contributing to open source projects. Like pushing the boundaries to broaden my horizon</p>
      <hr class="divider short" />
      <div class="navigation">
        <div class="profile contact">
          <nav class="navigation left">
  <ul class="links">

    <li class="nav-blog ">
      <a href="http://www.akbargumbira.com/#open" title="Akbar Gumbira blog">Blog</a>
    </li>

      <li class="nav-timeline ">
        <a href="../timeline">Timeline</a>
      </li>
      <li class="nav-about ">
        <a href="../about">About</a>
      </li>

  </ul>
</nav>

          
<nav class="navigation right">
  <ul class="social expanded">

  <!-- Facebook -->
  <li class="social item hvr-grow-rotate">
    <a rel="me" target="blank" href="http://facebook.com/akbargumbira" title="Akbar Gumbira on Facebook">
      <i class='icon icon-social-facebook'></i>
      <span class="label">Facebook</span>
    </a>
  </li>


  <!-- Twitter -->
  <li class="social item hvr-grow-rotate">
    <a rel="me" target="blank" href="http://twitter.com/akbargumbira" title="@akbargumbira on Twitter">
      <i class='icon icon-social-twitter'></i>
      <span class="label">Twitter</span>
    </a>
  </li>

  <!-- Linkedin -->
  <li class="social item hvr-grow-rotate">
    <a rel="me" target="blank" href="http://linkedin.com/in/akbargumbira" title="Akbar Gumbira on LinkedIn">
      <i class='icon icon-social-linkedin'></i>
      <span class="label">Linkedin</span>
    </a>
  </li>

  <!-- Github -->
  <li class="social item hvr-grow-rotate">
    <a rel="me" target="blank" href="https://github.com/akbargumbira" title="Akbar Gumbira on Github">
      <i class='icon icon-social-github'></i>
      <span class="label">Github</span>
    </a>
  </li>

  <!-- Flickr -->
  <li class="social item hvr-grow-rotate">
    <a rel="me" target="blank" href="http://flickr.com/akbargumbira" title="Akbar Gumbira on Flickr">
      <i class='icon icon-social-flickr'></i>
      <span class="label">Flickr</span>
    </a>
  </li>


  <!-- RSS -->
  <li class="social item hvr-grow-rotate">
    <a href="../rss/index.html" title="Subscribe to RSS">
      <i class='icon icon-rss'></i>
      <span class="label">RSS</span>
    </a>
  </li>

  </ul>
</nav>
          <section class="icon icon-search" id="search-container">
  <hr class="divider short" />
  <form id="search-form">
    <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
  </form>
</section>
        </div>
      </div>
    </div>
  </div>
</aside>
    <main>
      <section id="search-results"></section>
      <section class="content">
        

  <article class="post">
    <header>
      <div class="post meta">
        <time datetime="07 Mar 2016">07 Mar 2016</time>
        <span class="post tags"></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>

      <a alt="Tweet 'Releasing Django User Map v1.0.0'" rel="me"
        href="javascript:window.open('http://twitter.com/share?hashtags=&text=Releasing Django User Map v1.0.0 » ', '_blank', 'width=400,height=500');void(0);">
        
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Releasing Django User Map v1.0.0</h1>
      </a>
    </header>

    <div id="post-content" class="post">
      <p>Wohoo, finally I just released Django User Map v.1.0.0 after some work since 2 or 3 weeks ago! Click   <a href="http://www.akbargumbira.com/django-user-map">documentation</a> to read the docs.</p>

<p><em>What have been changed from the previous one?</em></p>

<p><strong>Removing Custom User Model</strong></p>

<p>A bit of history, at first <a href="http://www.twitter.com/timlinux">Tim Sutton</a> and I created the Flask version <a href="https://github.com/kartoza/flask_user_map">here</a>. It was a simple flask app with only sqlite to save users. For the online version of it, Python Indonesia is using this project here <a href="http://members.python.or.id/">Python Indonesia User Map</a>. As we needed some more features and wanted to make InaSAFE Realtime more like a web app, we created django project for all InaSAFE web related project. So the first thing I did was to re-implement the User Map with Django. </p>

<p>We wanted to still keep the users from the Flask User Map and migrate them to the new Django one. The Flask User Map is using an email for user to register themselves. That's why I created a custom user model with its own authentication backend. Actually in the end, we didn't migrate the users and only e-mail the old users to register on the new site :) There were other fields (InaSAFE, OSM roles, password) that weren't available from the previous one. So, instead of migrating them with a lot of default values, we decided to just mass email them.</p>

<p>But, the custom user model has made this apps not reusable for others to plug the apps on their existing django projects. So, after some thoughts, I decided to get rid of that and make Django User Map extend the auth user model defined for the project. This is making Django User Map really simple now as it doesn't care what the user model looks like, or how the authentication backend works. As the users need to log in before adding/updating themselves on the user map, the only thing I need to know is the login view of the project. This must be defined in the user map setting. Read here <a href="http://www.akbargumbira.com/django-user-map/#login-view">Login View</a></p>

<p><strong>Using REST API</strong></p>

<p>I was just thinking that this resource could be useful for others to use. Right now GET is the only operation allowed, returning geojson of the users.</p>

<p><strong>New marker filter control</strong></p>

<p>Users can select multiple roles for themselves. Therefore, I couldn't cheat filtering user based on roles using Leaflet overlay control. So, I made a custom filter control for that.</p>

<p><strong>Make settings more compliant with Leaflet</strong></p>

<p>For the basemap and marker icon, users (I meant, who plug Django User Map  on their Django project), can pass options using the exact same L.tiles and L.icon options. You can just pass any valid options of them in the setting. Read <a href="http://www.akbargumbira.com/django-user-map/#marker">here for marker</a> and <a href="http://www.akbargumbira.com/django-user-map/#map-configuration">here for basemap</a></p>

<p><strong>Allow users to override data privacy content and add navigation menu</strong></p>

<p>This is made possible through the Django template loading mechanism. You can override the data privacy content (<a href="http://www.akbargumbira.com/django-user-map/#data-privacy">read here</a>) or add navigation menu (<a href="http://www.akbargumbira.com/django-user-map/#navigation">read here</a>)</p>

<p>See below how Django User map looks like when we add navigation menu: <br />
<img src="../content/images/2016/03/with_nav.png" alt="With Navigation" /></p>

<p>For the navigation, unfortunately I am not quite satisfied with it. There are some matters that I was not quite sure. One of them is whether to have the base template of User Map extend the base template of the django project or not. With this option, there are a lot of other variables unknown, such as the name of the blocks to put User Map components.</p>

<p>So what I did right now is to use <code>include</code>. So the navigation defined in project's template will be included to the template in user map. As the user map uses Bootstrap 3, users can just use style classes or other component from Bootstrap 3. This is also a drawback for example when users already have their own template for navigation menu, and they use Bootstrap 2. This is the problem I found when I tried to plug Django User Map in to QGIS Django. I tried using scoped styling, but it apparently does not work for all browsers. And it was actually hard to use Bootstrap 3 and make it look like as if it uses Boostrap 2. So, users who have this problem perhaps could just not use the navigation menu. Drop me some comments if you have suggestion!</p>

<p><strong>Made popup content dynamically generated</strong></p>

<p>Basically what you defined on the setting for <code>api_user_field</code> will be shown on the popup content and on the API. You pick what you want to show yourself!</p>

<p><strong>Some other stuffs</strong></p>

<p>Small stuffs but taking quite an effort, like:</p>

<ul>
<li>Utilising class based views. The first time I worked back on the code, I was embarassed by myself reading my own code :)</li>
<li>Having a nice documentation: <a href="http://www.akbargumbira.com/django-user-map">This is a cool docs</a></li>
<li>Rendering popup content in client side using jsRender. Yeah users nowadays have abundant resources of their computers. So why should we render for them on the server side? :) </li>
</ul>

<p><em>What is the next plan?</em></p>

<p>I want to let users who don't use spatial backend  on their django project to be able to plug this apps as well. I need to look first at some options like django-geojson.</p>

<p>So, if you have Django project, try to plug this Django User Map, and let me know if you have some problems or patches! #ShamelessPlug</p>
    </div>

    <div class="post related">
        <a rel="prev" id="prev-btn" class="btn small square" href="../documentup-generate-docs-from-your-markdown-file-s/index.html">← DocumentUp: Generate docs from your markdown file(s)</a>

        <a rel="next" id="next-btn" class="btn small square" href="../google-summer-of-code-2016/index.html">Google Summer of Code 2016 →</a>
    </div>

    <footer class="post comments">
  <div id="disqus_thread"></div>
  <script type="text/javascript">
  (function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>

  </article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'akbargumbira'; // required: replace example with your forum shortname
    var disqus_identifier = '17';
 
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        <footer>
  <span class="copyright">
    &copy; 2016. All rights reserved. Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> theme.
  </span>
</footer>
      </section>
    </main>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="../assets/js/uno-zen.js?v=676b1a0896"></script>
    <script>
  if (window.ga_id) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', window.ga_id, 'auto');
    ga('require', 'linkid', 'linkid.js');
    ga('send', 'pageview');
  }
</script>

<!-- Disqus -->
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'akbargumbira'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

  </body>
</html>
